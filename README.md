# IsoMix.jl
[![Stable](https://img.shields.io/badge/docs-stable-blue.svg)](https://grahamedwards.github.io/IsoMix.jl/stable/)
[![Dev](https://img.shields.io/badge/docs-dev-blue.svg)](https://grahamedwards.github.io/IsoMix.jl/dev/)
[![Build Status](https://github.com/grahamedwards/IsoMix.jl/actions/workflows/CI.yml/badge.svg?branch=main)](https://github.com/grahamedwards/IsoMix.jl/actions/workflows/CI.yml?query=branch%3Amain)
[![Coverage](https://codecov.io/gh/grahamedwards/IsoMix.jl/branch/main/graph/badge.svg)](https://codecov.io/gh/grahamedwards/IsoMix.jl)

Isotopic mixing models coupled to statistical tools. 

üöß Currently under construction: Experimental and largely nonfunctional üöß

---

## Type structure in `IsoMix.jl`

Isotopic mixing models entail a number of different parameters. `IsoMix.jl` relies Julia's custom type system to provide a coherent structure for these parameters.

To accommodate the flexible dimensionality of the package, specific instances of a given type typically have a trailing number indicates the number of dimensions (e.g. `Data` and `Data2`).


### `Data`

These reflect compositions determined from measurements, models, or assumptions. 

#### `Datum`
A `Datum` instance reflects a single measurement/model/assumption of a value. 
Measurement and model values have corresponding uncertainties, so each `Datum` instance is a distribution: 

|Type | Distribution|
|:--- | :--- |
`Unf`  | Uniform
`Norm` | Normal
`logNorm` | Lognormal
`Constant` | A single, discrete value (point)
`Unconstrained` | Unconstrained parameter space (‚ö†Ô∏ènot advised‚ö†Ô∏è) 
|||


#### `Measurements` 
A `Measurements` instance contains `Norm` instances representing the measured isotopic composition (`x`, `y`, `z`) and concentration (`Cx`, `Cy`, `Cz`) of 1-3 species:  `Measurements1`, `Measurements2`, `Measurements3`.

#### `Endmember`
An `Endmember` instance contains `Datum` instances representing prior estimates of the isotopic composition (`x`, `y`, `z`) and concentration (`Cx`, `Cy`, `Cz`) of 1-3 species: `Endmember1`, `Endmember2`, `Endmember3`.

#### `Prior`
A `Prior` instance contains 2-3 `Endmember` instances that represent a prior estimate for the endmember compositions of a natural system: `Prior2`, `Prior3`.

### `DistributionDraws`

The average user typically will not interact with `DistributionDraws` subtypes. 
They represent discrete realizations (i.e. "draws") of a chemical system generated by/for mixing models.

#### `EmDraw`
An `EmDraw` (endmember draw) instance contains discrete values for the isotopic composition (`x`, `y`, `z`) and concentration (`Cx`, `Cy`, `Cz`) of 1-3 species: `EmDraw1`, `EmDraw2`, `EmDraw3`.

#### `SysDraw`
A `SysDraw` (system draw) instance contains 2-3 `EmDraw` instances and represents a realization of chemical endmember compositions for a chemical system: `SysDraw2`, `SysDraw3`.

### `Calculations`

The average user typically will not interact with `Calculations` subtypes. These are used under the hood in chemical and isotopic model simulations.

#### `Fraction`
A `Fraction` instance contains vectors of fractional combinations of the endmembers in a natural system: `Fraction2`, `Fraction3`.
Frational mixtures are used to calculate `Model` compositions.

#### `Model`
A `Model` instance contains simulated isotopic compositions and concentrations of a species that correspond to the mixtures in a `Fraction` instance: `Model1`, `Model2`, `Model3`. 


---
![GPL3](https://www.gnu.org/graphics/gplv3-127x51.png)