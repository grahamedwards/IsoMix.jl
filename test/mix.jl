# 2-component, 1 species
mtf, mts = Fraction(2,n=6), System(Component(-3,2), Component(3,4))
mtm = mix(mts,mtf)


@test isapprox(mtm.x,[3.0, 7/3, 1.5, 3/7, -1., -3.])
@test isapprox(mtm.Cx, [4.0, 3.6, 3.2, 2.8, 2.4, 2.0])



# 2-component, 2 species
mtf, mts = Fraction(2,n=6), System(Component(-3,2,-3,4), Component(3,4,3,2))
mtm = Model(mtf, mts)
mix!(mtm,mts,mtf)

@test isapprox(mtm.x,[3.0, 7/3, 1.5, 3/7, -1., -3.])
@test isapprox(mtm.y, [3.0, 1.0, -3/7, -1.5, -7/3, -3.0])



# 2-component, 3 species
mtf, mts = Fraction(2,n=6), System(Component(-3,2,-3,4,-6,1), Component(3,4,3,2,6,2))
mtm = mix(mts,mtf)

@test isapprox(mtm.x,[3.0, 7/3, 1.5, 3/7, -1., -3.])
@test isapprox(mtm.y, [3.0, 1.0, -3/7, -1.5, -7/3, -3.0])
@test isapprox(mtm.z, [6.0, 14/3, 3, 18/21, -2, -6.])



# 3-component, 2 species
mtf, mts = Fraction(3,n=5), System(Component(-3,2,-3,4), Component(3,4,3,2), Component(6,1,-6,1))
mtm = mix(mts,mtf)

@test mtm.x ≈ [6.0, 4.285714285714286, 3.6, 3.230769230769231, 3.0, 2.4, 2.25, 2.1818181818181817, 2.142857142857143, 0.0, 0.6666666666666666, 1.0, -1.7142857142857142, -0.6, -3.0]
@test mtm.y ≈ [-6.0, -2.4, 0.0, 1.7142857142857142, 3.0, -4.285714285714286, -2.25, -0.6666666666666666, 0.6, -3.6, -2.1818181818181817, -1.0, -3.230769230769231, -2.142857142857143, -3.0]


# 3-component, 3 species
mtf, mts = Fraction(3,n=5), System(Component(-3,2,-3,4,-6,1), Component(3,4,3,2,6,2), Component(6,1,-6,1, -2, 4))
mtm = mix(mts,mtf)

@test mtm.x ≈ [6.0, 4.285714285714286, 3.6, 3.230769230769231, 3.0, 2.4, 2.25, 2.1818181818181817, 2.142857142857143, 0.0, 0.6666666666666666, 1.0, -1.7142857142857142, -0.6, -3.0]
@test mtm.y ≈ [-6.0, -2.4, 0.0, 1.7142857142857142, 3.0, -4.285714285714286, -2.25, -0.6666666666666666, 0.6, -3.6, -2.1818181818181817, -1.0, -3.230769230769231, -2.142857142857143, -3.0]
@test mtm.z ≈ [-2.0, -0.8571428571428571, 0.6666666666666666, 2.8, 6.0, -2.3076923076923075, -0.9090909090909091, 1.1111111111111112, 4.285714285714286, -2.8, -1.0, 2.0, -3.7142857142857144, -1.2, -6.0]
